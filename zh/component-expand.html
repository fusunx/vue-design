<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组件的拓展 | 渲染器</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="也许是讲渲染器相关内容中最细最全的了吧">
    
    <link rel="preload" href="/vue-design/assets/css/0.styles.e35da919.css" as="style"><link rel="preload" href="/vue-design/assets/js/app.17a07862.js" as="script"><link rel="preload" href="/vue-design/assets/js/2.d780c2ed.js" as="script"><link rel="preload" href="/vue-design/assets/js/1.4757ad4b.js" as="script"><link rel="preload" href="/vue-design/assets/js/30.da08897e.js" as="script"><link rel="prefetch" href="/vue-design/assets/js/10.0d9c10fb.js"><link rel="prefetch" href="/vue-design/assets/js/11.b7b5316c.js"><link rel="prefetch" href="/vue-design/assets/js/12.33ac6671.js"><link rel="prefetch" href="/vue-design/assets/js/13.749a9a24.js"><link rel="prefetch" href="/vue-design/assets/js/14.e646add3.js"><link rel="prefetch" href="/vue-design/assets/js/15.37b66eba.js"><link rel="prefetch" href="/vue-design/assets/js/16.056c1fdc.js"><link rel="prefetch" href="/vue-design/assets/js/17.25979c4a.js"><link rel="prefetch" href="/vue-design/assets/js/18.93b4e238.js"><link rel="prefetch" href="/vue-design/assets/js/19.58d8d4dc.js"><link rel="prefetch" href="/vue-design/assets/js/20.a69543aa.js"><link rel="prefetch" href="/vue-design/assets/js/21.e78369f6.js"><link rel="prefetch" href="/vue-design/assets/js/22.483c932c.js"><link rel="prefetch" href="/vue-design/assets/js/23.855dbcf7.js"><link rel="prefetch" href="/vue-design/assets/js/24.fe854ef3.js"><link rel="prefetch" href="/vue-design/assets/js/25.aa2d602b.js"><link rel="prefetch" href="/vue-design/assets/js/26.9e72780d.js"><link rel="prefetch" href="/vue-design/assets/js/27.5a9e5112.js"><link rel="prefetch" href="/vue-design/assets/js/28.57a266a7.js"><link rel="prefetch" href="/vue-design/assets/js/29.18ebb96a.js"><link rel="prefetch" href="/vue-design/assets/js/3.a769d21d.js"><link rel="prefetch" href="/vue-design/assets/js/31.73fb9df3.js"><link rel="prefetch" href="/vue-design/assets/js/32.5a1a2a2e.js"><link rel="prefetch" href="/vue-design/assets/js/33.331a6b44.js"><link rel="prefetch" href="/vue-design/assets/js/4.81d37411.js"><link rel="prefetch" href="/vue-design/assets/js/5.2b8d4faf.js"><link rel="prefetch" href="/vue-design/assets/js/6.4496a510.js"><link rel="prefetch" href="/vue-design/assets/js/7.41072e96.js"><link rel="prefetch" href="/vue-design/assets/js/vendors~docsearch.ba3635d9.js">
    <link rel="stylesheet" href="/vue-design/assets/css/0.styles.e35da919.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-design/zh/" class="home-link router-link-active"><!----> <span class="site-name">渲染器</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue-design/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/vue-design/zh/component-expand.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue-design/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/vue-design/zh/component-expand.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vue-design/zh/essence-of-comp.html" class="sidebar-link">组件的本质</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/essence-of-comp.html#组件的产出是什么" class="sidebar-link">组件的产出是什么</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/essence-of-comp.html#组件的-vnode-如何表示" class="sidebar-link">组件的 VNode 如何表示</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/essence-of-comp.html#组件的种类" class="sidebar-link">组件的种类</a></li></ul></li><li><a href="/vue-design/zh/vnode.html" class="sidebar-link">先设计 VNode 吧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/vnode.html#用-vnode-描述真实-dom" class="sidebar-link">用 VNode 描述真实 DOM</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/vnode.html#用-vnode-描述抽象内容" class="sidebar-link">用 VNode 描述抽象内容</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/vnode.html#vnode-的种类" class="sidebar-link">VNode 的种类</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/vnode.html#使用-flags-作为-vnode-的标识" class="sidebar-link">使用 flags 作为 VNode 的标识</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/vnode.html#枚举值-vnodeflags" class="sidebar-link">枚举值 VNodeFlags</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/vnode.html#children-和-childrenflags" class="sidebar-link">children 和 ChildrenFlags</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/vnode.html#vnodedata" class="sidebar-link">VNodeData</a></li></ul></li><li><a href="/vue-design/zh/h.html" class="sidebar-link">辅助创建 VNode 的 h 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/h.html#在vnode创建时确定其类型-flags" class="sidebar-link">在VNode创建时确定其类型 - flags</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/h.html#在vnode创建时确定其children的类型" class="sidebar-link">在VNode创建时确定其children的类型</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/h.html#使用-h-函数创建-vnode" class="sidebar-link">使用 h 函数创建 VNode</a></li></ul></li><li><a href="/vue-design/zh/renderer.html" class="sidebar-link">渲染器之挂载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#责任重大的渲染器" class="sidebar-link">责任重大的渲染器</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#挂载普通标签元素" class="sidebar-link">挂载普通标签元素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#基本原理" class="sidebar-link">基本原理</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#class的处理" class="sidebar-link">class的处理</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#attributes-和-dom-properties" class="sidebar-link">Attributes 和 DOM Properties</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#事件的处理" class="sidebar-link">事件的处理</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#挂载纯文本、fragment-和-portal" class="sidebar-link">挂载纯文本、Fragment 和 Portal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#挂载文本节点" class="sidebar-link">挂载文本节点</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#挂载-fragment" class="sidebar-link">挂载 Fragment</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#挂载-portal" class="sidebar-link">挂载 Portal</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#有状态组件的挂载和原理" class="sidebar-link">有状态组件的挂载和原理</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer.html#函数式组件的挂载和原理" class="sidebar-link">函数式组件的挂载和原理</a></li></ul></li><li><a href="/vue-design/zh/renderer-patch.html" class="sidebar-link">渲染器之patch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#基本原则" class="sidebar-link">基本原则</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#替换-vnode" class="sidebar-link">替换 VNode</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#更新标签元素" class="sidebar-link">更新标签元素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#更新标签元素的基本原则" class="sidebar-link">更新标签元素的基本原则</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#更新-vnodedata" class="sidebar-link">更新 VNodeData</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#更新子节点" class="sidebar-link">更新子节点</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#更新文本节点" class="sidebar-link">更新文本节点</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#更新-fragment" class="sidebar-link">更新 Fragment</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#更新-portal" class="sidebar-link">更新 Portal</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#有状态组件的更新" class="sidebar-link">有状态组件的更新</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#主动更新" class="sidebar-link">主动更新</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#初步了解组件的外部状态-props" class="sidebar-link">初步了解组件的外部状态 props</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#被动更新" class="sidebar-link">被动更新</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#我们需要-shouldupdatecomponent" class="sidebar-link">我们需要 shouldUpdateComponent</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-patch.html#函数式组件的更新" class="sidebar-link">函数式组件的更新</a></li></ul></li><li><a href="/vue-design/zh/renderer-diff.html" class="sidebar-link">渲染器的核心 Diff 算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#减小dom操作的性能开销" class="sidebar-link">减小DOM操作的性能开销</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#尽可能的复用-dom-元素" class="sidebar-link">尽可能的复用 DOM 元素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#key-的作用" class="sidebar-link">key 的作用</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#找到需要移动的节点" class="sidebar-link">找到需要移动的节点</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#移动节点" class="sidebar-link">移动节点</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#添加新元素" class="sidebar-link">添加新元素</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#移除不存在的元素" class="sidebar-link">移除不存在的元素</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#另一个思路-双端比较" class="sidebar-link">另一个思路 - 双端比较</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#双端比较的原理" class="sidebar-link">双端比较的原理</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#双端比较的优势" class="sidebar-link">双端比较的优势</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#非理想情况的处理方式" class="sidebar-link">非理想情况的处理方式</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#添加新元素-2" class="sidebar-link">添加新元素</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#移除不存在的元素-2" class="sidebar-link">移除不存在的元素</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#inferno-所采用的核心-diff-算法及原理" class="sidebar-link">inferno 所采用的核心 Diff 算法及原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#相同的前置和后置元素" class="sidebar-link">相同的前置和后置元素</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#判断是否需要进行-dom-移动" class="sidebar-link">判断是否需要进行 DOM 移动</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#dom-移动的方式" class="sidebar-link">DOM 移动的方式</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#求解最长递增子序列" class="sidebar-link">求解最长递增子序列</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#不足之处" class="sidebar-link">不足之处</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-diff.html#references" class="sidebar-link">References</a></li></ul></li><li><a href="/vue-design/zh/renderer-advanced.html" class="sidebar-link">自定义渲染器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-advanced.html#自定义渲染器的原理" class="sidebar-link">自定义渲染器的原理</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-advanced.html#自定义渲染器的应用" class="sidebar-link">自定义渲染器的应用</a></li><li class="sidebar-sub-header"><a href="/vue-design/zh/renderer-advanced.html#references" class="sidebar-link">References</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="组件的拓展"><a href="#组件的拓展" class="header-anchor">#</a> 组件的拓展</h1> <h2 id="异步组件"><a href="#异步组件" class="header-anchor">#</a> 异步组件</h2> <h2 id="指令的实现"><a href="#指令的实现" class="header-anchor">#</a> 指令的实现</h2> <h2 id="混入"><a href="#混入" class="header-anchor">#</a> 混入</h2> <h2 id="实现-keepalive"><a href="#实现-keepalive" class="header-anchor">#</a> 实现 keepAlive</h2> <h2 id="memoize-的意义和实现"><a href="#memoize-的意义和实现" class="header-anchor">#</a> memoize 的意义和实现</h2> <h2 id="hooks-的意义和实现"><a href="#hooks-的意义和实现" class="header-anchor">#</a> hooks 的意义和实现</h2> <h2 id="错误处理"><a href="#错误处理" class="header-anchor">#</a> 错误处理</h2></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vue-design/assets/js/app.17a07862.js" defer></script><script src="/vue-design/assets/js/2.d780c2ed.js" defer></script><script src="/vue-design/assets/js/1.4757ad4b.js" defer></script><script src="/vue-design/assets/js/30.da08897e.js" defer></script>
  </body>
</html>
